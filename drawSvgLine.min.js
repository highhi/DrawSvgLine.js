 /*
 *  drawSvgLine.js
 *
 * https://github.com/highhi/DrawSvgLine.js
 *
 * Copyright (c) 2015 Kazuya Mizuno
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

!function(e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):window.DrawSvgLine=e()}(function(){"use strict";function e(t,n){if(!(this instanceof e))return new e(t);var a=this,o=n||{};a.elm="string"==typeof t?document.getElementById(t):t,a.paths=a.elm.querySelectorAll("path"),a.pathsLen=a.paths.length,a.totalLength=[],a.currentFrame=0,a.strokeSpeed=o.strokeSpeed?o.strokeSpeed*i:1e3*i,a.fillSpeed=o.fillSpeed?o.fillSpeed*i:1e3*i,a.delay=o.delay?o.delay:0,a.fixfox=o.fixfox?o.fixfox:300;for(var r=0;r<a.pathsLen;r++){var s=a.paths[r].getTotalLength()+30;isNaN(s)&&(s=a.fixfox),a.totalLength[r]=s,a.paths[r].style.strokeDasharray=s+" "+s,a.paths[r].style.strokeDashoffset=s,a.paths[r].style.fillOpacity=0}}var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout,n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,a=16,i=.06;return e.prototype.draw=function(){var e=this;return e.animated=!0,e._stroke(),e},e.prototype._stroke=function(){var e=this,i=e.currentFrame/e.strokeSpeed;if(i>1)n(r),e.currentFrame=0,setTimeout(e._fill.bind(e),e.delay);else{e.currentFrame++;for(var o=0;o<e.pathsLen;o++)e.paths[o].style.strokeDashoffset=e.totalLength[o]*(1-i)|0;var r=t(e._stroke.bind(e),a)}},e.prototype._fill=function(){var e=this,i=e.currentFrame/e.fillSpeed;if(i>1)n(r),e.currentFrame=0,this.callback&&this.callback();else{e.currentFrame++;for(var o=0;o<e.pathsLen;o++)e.paths[o].style.fillOpacity=i;var r=t(e._fill.bind(e),a)}},e.prototype.compleat=function(e){"function"==typeof e&&(this.callback=e)},e});