 /*
 *  drawSvgLine.js
 *
 * https://github.com/highhi/DrawSvgLine.js
 *
 * Copyright (c) 2015 Kazuya Mizuno
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

!function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.DrawSvgLine=e()}(this,function(){"use strict";function t(e,i){if(!(this instanceof t))return new t(e);var s=r({strokeSpeed:1e3,fillSpeed:1e3,delay:0},i);this.elm="string"==typeof e?l.getElementById(e):e,this.paths=h(this.elm.getElementsByTagName("path")),this.pathsLen=this.paths.length,this.totalLength=[],this.currentFrame=0,this.strokeSpeed=s.strokeSpeed*p,this.fillSpeed=s.fillSpeed*p,this.delay=s.delay,this.fixfox=s.fixfox;for(var n=this.pathsLen;n--;){var a=this.paths[n].getTotalLength()+30;this.totalLength[n]=a,this.paths[n].style.strokeDasharray=a+" "+a,this.paths[n].style.strokeDashoffset=a,this.paths[n].style.fillOpacity=0}}function e(){return i.call(this),this}function i(){var t,e=this.currentFrame/this.strokeSpeed;if(e>1)c(t),this.currentFrame=0,setTimeout(s.bind(this),this.delay);else{this.currentFrame++;for(var n=this.pathsLen;n--;)this.paths[n].style.strokeDashoffset=this.totalLength[n]*(1-e)|0;t=f(i.bind(this),m)}}function s(){var t,e=this.currentFrame/this.fillSpeed;if(e>1)c(t),this.currentFrame=0,this.callback&&this.callback();else{this.currentFrame++;for(var i=this.pathsLen;i--;)this.paths[i].style.fillOpacity=e;t=f(s.bind(this),m)}}function n(t){"function"==typeof t&&(this.callback=t)}function a(t,e){var i;for(i in e)!e.hasOwnProperty(i)||i in t||(t[i]=e[i])}function r(t,e){if("undefined"==typeof e)return t;var i;for(i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t){return Array.prototype.slice.call(t)}var o=window,l=document,f=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame||o.setTimeout,c=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame||o.clearTimeout,m=16,p=.06;return a(t.prototype,{draw:e,compleat:n}),t});