 /*
 *  drawSvgLine.js
 *
 * https://github.com/highhi/DrawSvgLine.js
 *
 * Copyright (c) 2015 Kazuya Mizuno
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

!function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.drawSvgLine=e()}(this,function(){"use strict";function t(e,i){if(!(this instanceof t))return new t(e,i);var n=a({strokeSpeed:1e3,fillSpeed:1e3,delay:0},i);this.elm="string"==typeof e?c.getElementById(e):e,this.paths=o(this.elm.getElementsByTagName("path")),this.pathsLen=this.paths.length,this.totalLength=[],this.currentFrame=0,this.context=null,this.callback=null,this.strokeSpeed=n.strokeSpeed*m,this.fillSpeed=n.fillSpeed*m,this.delay=n.delay;for(var r=this.pathsLen;r--;){var s=this.paths[r].getTotalLength()+30+1|0;this.totalLength[r]=s,this.paths[r].style.strokeDasharray=s+" "+s,this.paths[r].style.strokeDashoffset=s,this.paths[r].style.fillOpacity=0}}function e(t){if("undefined"!=typeof t){if("function"!=typeof t)throw new TypeError("Argument must be a Function.");this.callback=t}return i.call(this),this}function i(){var t,e=this.currentFrame/this.strokeSpeed;if(e>1)f(t),this.currentFrame=0,setTimeout(n.bind(this),this.delay);else{this.currentFrame++;for(var r=this.pathsLen;r--;)this.paths[r].style.strokeDashoffset=this.totalLength[r]*(1-e)|0;t=l(i.bind(this),u)}}function n(){var t,e=this.currentFrame/this.fillSpeed;if(e>1)f(t),this.currentFrame=0,this.callback&&this.callback(),this.context&&this.context.draw();else{this.currentFrame++;for(var i=this.pathsLen;i--;)this.paths[i].style.fillOpacity=e;t=l(n.bind(this),u)}}function r(t,e){if("DrawSvgLine"!==t.constructor.name)throw new Error("The first argument must be an DrawSvgLine object.");if(this.context=t,"undefined"!=typeof e){if("function"!=typeof e)throw new TypeError("The second argument must be a Function.");this.context.callback=e}return t}function s(t,e){var i;for(i in e)!e.hasOwnProperty(i)||i in t||(t[i]=e[i])}function a(t,e){if("undefined"==typeof e)return t;var i;for(i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(t[i]=e[i]);return t}function o(t){return Array.prototype.slice.call(t)}var h=window,c=document,l=h.requestAnimationFrame||h.mozRequestAnimationFrame||h.webkitRequestAnimationFrame||h.msRequestAnimationFrame||h.setTimeout,f=h.cancelAnimationFrame||h.mozCancelAnimationFrame||h.webkitCancelAnimationFrame||h.msCancelAnimationFrame||h.clearTimeout,u=16,m=.06;return s(t.prototype,{draw:e,turn:r}),t});